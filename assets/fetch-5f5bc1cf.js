import{r as l}from"./index-0d521d25.js";const d=(r=!1)=>{const e=l(r);return{visibility:e,showElement:()=>e.value=!0,hideElement:()=>e.value=!1}},f=async r=>{try{await fetch("https://darts-calculator-api.onrender.com/refreshToken",{method:"DELETE",headers:{authorization:`Bearer ${r}`}})}catch(e){console.error(e)}};async function w(r,e){var a,s;const c="https://darts-calculator-api.onrender.com/statistic/",i={method:"GET",headers:{authorization:`Bearer ${((a=e.users[r])==null?void 0:a.token)||""} ${((s=e.users[r])==null?void 0:s.refreshToken)||""}`,"Content-Type":"application/json"}};let o,t;try{return o=await fetch(c,i),t=await o.json(),{response:o,json:t}}catch(n){throw console.error(n),new Error("Ошибка сервера при получении статистики")}}async function m(r,e,c){var s,n;const i="https://darts-calculator-api.onrender.com/statistic/",o={method:"POST",body:JSON.stringify(c),headers:{authorization:`Bearer ${((s=e.users[r])==null?void 0:s.token)||""} ${((n=e.users[r])==null?void 0:n.refreshToken)||""}`,"Content-Type":"application/json"}};let t,a;try{return t=await fetch(i,o),a=await t.json(),{response:t,json:a}}catch(h){throw console.error(h),new Error("Ошибка сервера при получении статистики")}}async function p(r,e,c){var s,n;const i="https://darts-calculator-api.onrender.com/user/",o={method:"PATCH",body:JSON.stringify(c),headers:{authorization:`Bearer ${((s=e.users[r])==null?void 0:s.token)||""} ${((n=e.users[r])==null?void 0:n.refreshToken)||""}`,"Content-Type":"application/json"}};let t,a;try{return t=await fetch(i,o),a=await t.json(),{response:t,json:a}}catch(h){throw console.error(h),new Error("Ошибка сервера при изменении параметров")}}async function E(r,e){var a,s;const c="https://darts-calculator-api.onrender.com/user/",i={method:"DELETE",headers:{authorization:`Bearer ${((a=e.users[r])==null?void 0:a.token)||""} ${((s=e.users[r])==null?void 0:s.refreshToken)||""}`}};let o,t;try{return o=await fetch(c,i),t=await o.json(),{response:o,json:t}}catch(n){throw console.error(n),new Error("Ошибка сервера при удалении")}}const y=async(r,e)=>{if(r&&Object.hasOwn(r,"error"))throw console.error(r.error),new Error(r.error);if(!r||!e.ok&&!Object.hasOwn(r,"error"))throw new Error("Не удалось обоработать данные")};export{y as a,f as b,p as c,E as d,w as g,m as s,d as u};
