import{s as h,k as f,r as $,o as r,b as i,w as k,v as S,d as s,t as C,a as n,l as _,j as m,y as u,R as y,i as x,m as P,F as A,_ as N,e as w}from"./index-a42a8121.js";import{L as B,d as V}from"./fetch-64dbb915.js";const D={class:"start-page__player-navigation player-navigation"},I={class:"player-navigation__name"},L=["disabled"],p={__name:"playerNavigation",props:{player:String},setup(a){const g=h({loader:()=>N(()=>import("./authComp-be868021.js"),["assets/authComp-be868021.js","assets/index-a42a8121.js","assets/index-196bc00e.css","assets/close-ed01941b.js","assets/fetch-64dbb915.js","assets/fetch-5382e2d8.css","assets/authComp-11494628.css"]),loadingComponent:B,delay:0}),t=f(),l=$(!1),v=e=>{if(localStorage.getItem(`user${e}`)){t.login(e,JSON.parse(localStorage.getItem(`user${e}`)));return}l.value=!0},b=e=>{V(t.users[e].refreshToken),t.logout(e),localStorage.removeItem(`user${e}`)};return(e,o)=>{var c;return r(),i(A,null,[k(s("div",D,[s("h4",I,C(((c=n(t).users[a.player])==null?void 0:c.name)||`Игрок ${a.player.charAt(1)}`),1),_(n(y),{to:{name:"UserProfile",query:{player:a.player}},tabindex:"-1",class:"player-navigation__profile"},{default:m(()=>[s("button",u({class:"base-button player-navigation__button",disabled:!n(t).users[a.player]},e.$attrs)," Личный профиль ",16,L)]),_:1},8,["to"]),n(t).users[a.player]?(r(),i("button",u({key:1,class:"base-button player-navigation__button player-navigation__logout",onClick:o[1]||(o[1]=d=>b(a.player))},e.$attrs)," Выйти ",16)):(r(),i("button",u({key:0,class:"base-button player-navigation__button player-navigation__login",onClick:o[0]||(o[0]=d=>v(a.player))},e.$attrs)," Войти ",16))],512),[[S,!l.value]]),l.value?(r(),x(n(g),{key:0,class:"margin-top_less_755px",onCloseAuthComp:o[2]||(o[2]=d=>l.value=!1),player:a.player},null,8,["player"])):P("",!0)],64)}}};const R={class:"page start-page"},T=s("header",{class:"start-page__header"},"Дартс калькулятор",-1),E={class:"start-page__main"},F=s("div",{class:"start-page__hello-message"},' Приложение "дартс калькулятор" предназначено для подсчета очков при игре в дартс и ведения статистика матча. Зарегистрированные пользователи дополнительно имеют возможность сохранения статистики матчей и ее просмотра в личном профиле ',-1),O={class:"start-page__players-wrapper"},q={__name:"StartPage",setup(a){return(g,t)=>(r(),i("div",R,[T,s("main",E,[F,s("div",O,[_(p,{player:"P1",tabindex:"1"}),_(n(y),{class:"base-button to-match",to:"/game",tabindex:"3"},{default:m(()=>[w(" К матчу ")]),_:1}),_(p,{player:"P2",tabindex:"2"})])])]))}};export{q as default};
